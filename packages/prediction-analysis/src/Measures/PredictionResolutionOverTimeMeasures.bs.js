// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE
'use strict';

var Belt_Result = require("bs-platform/lib/js/belt_Result.js");
var DefaultParams$PredictionAnalysis = require("../Common/DefaultParams.bs.js");
var StartAtDistribution$PredictionAnalysis = require("../Utility/StartAtDistribution.bs.js");
var PredictionResolutionOverTime$PredictionAnalysis = require("../ScoringDataStructures/PredictionResolutionOverTime.bs.js");
var PredictionResolutionGroupMeasures$PredictionAnalysis = require("./PredictionResolutionGroupMeasures.bs.js");

function pointScoreDistribution($staropt$star, $staropt$star$1, scoringCombination, param) {
  var marketType = $staropt$star !== undefined ? $staropt$star : /* MarketScore */-870794282;
  var sampleCount = $staropt$star$1 !== undefined ? $staropt$star$1 : DefaultParams$PredictionAnalysis.Cdf[/* maxCalculationLength */0];
  return StartAtDistribution$PredictionAnalysis.transposeResult(StartAtDistribution$PredictionAnalysis.map((function (scoringCombination) {
                    return PredictionResolutionGroupMeasures$PredictionAnalysis.pointScore(marketType, sampleCount, scoringCombination, undefined, /* () */0);
                  }), PredictionResolutionOverTime$PredictionAnalysis.toStartAtDistribution(scoringCombination)));
}

function averagePointScore($staropt$star, $staropt$star$1, scoringCombination, lowestTimeForAverage, param) {
  var marketType = $staropt$star !== undefined ? $staropt$star : /* MarketScore */-870794282;
  var sampleCount = $staropt$star$1 !== undefined ? $staropt$star$1 : DefaultParams$PredictionAnalysis.Cdf[/* maxCalculationLength */0];
  var __x = pointScoreDistribution(marketType, sampleCount, scoringCombination, /* () */0);
  return Belt_Result.flatMap(__x, (function (t) {
                return StartAtDistribution$PredictionAnalysis.average(t, lowestTimeForAverage, /* () */0);
              }));
}

exports.pointScoreDistribution = pointScoreDistribution;
exports.averagePointScore = averagePointScore;
/* StartAtDistribution-PredictionAnalysis Not a pure module */
